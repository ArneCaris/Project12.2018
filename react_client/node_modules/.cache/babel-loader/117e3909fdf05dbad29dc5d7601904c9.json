{"ast":null,"code":"import _classCallCheck from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Project12.2018\\\\react_client\\\\src\\\\Components\\\\UserMenu.js\";\nimport React, { Component, Fragment } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignOutAlt, faBan } from '@fortawesome/free-solid-svg-icons';\nimport axios from \"axios\";\nimport swal from 'sweetalert2';\n\nvar UserMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserMenu, _Component);\n\n  function UserMenu() {\n    var _this;\n\n    _classCallCheck(this, UserMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserMenu).call(this));\n\n    _this.deleteAccount = function () {\n      var id = sessionStorage.getItem(\"userID\");\n      var _this$state = _this.state,\n          ID = _this$state.ID,\n          username = _this$state.username,\n          password = _this$state.password;\n      axios.delete('http://localhost:3000/Users/' + id, {\n        ID: ID,\n        username: username,\n        password: password\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.status === 200) {\n          sessionStorage.clear();\n          window.location.reload();\n        }\n      });\n    };\n\n    _this.deleteAccount = _this.deleteAccount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      ID: '',\n      username: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(UserMenu, [{\n    key: \"confirmDeletion\",\n    value: function confirmDeletion() {\n      var _this2 = this;\n\n      swal({\n        title: 'Are you sure?',\n        text: \"This will permanently delete your user\",\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Continue',\n        cancelButtonText: 'Cancel'\n      }).then(function (result) {\n        if (result.value) {\n          setTimeout(100);\n\n          _this2.deleteAccount();\n\n          swal('Terminated!', 'User has been terminated', 'success');\n        }\n      });\n    }\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout() {\n      sessionStorage.clear();\n      this.props.history.push(\"/\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"for-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, sessionStorage.length !== 0 ? React.createElement(\"div\", {\n        className: \"user-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Logged in as: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, sessionStorage.userUsername)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(NavLink, {\n        to: \"/createpost\",\n        style: {\n          color: 'black',\n          fontSize: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Create Post\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(NavLink, {\n        style: {\n          color: 'black'\n        },\n        to: \"/posts/private\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"View Private Posts\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(NavLink, {\n        style: {\n          color: 'black'\n        },\n        to: \"/shared/mine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"View Shared Posts\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"delete-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(NavLink, {\n        className: \"logout-link\",\n        to: \"/\",\n        onClick: this.handleLogout,\n        id: \"logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faSignOutAlt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), \"Logout\"), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this3.confirmDeletion();\n        },\n        className: \"terminate-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faBan,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), \"Terminate User\")))) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return UserMenu;\n}(Component);\n\nexport default UserMenu;","map":{"version":3,"sources":["C:\\Project12.2018\\react_client\\src\\Components\\UserMenu.js"],"names":["React","Component","Fragment","NavLink","FontAwesomeIcon","faSignOutAlt","faBan","axios","swal","UserMenu","deleteAccount","id","sessionStorage","getItem","state","ID","username","password","delete","then","res","console","log","data","status","clear","window","location","reload","bind","title","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","value","setTimeout","props","history","push","length","userUsername","color","fontSize","handleLogout","confirmDeletion"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faSignOutAlt, faBan } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from \"axios\";\r\nimport swal from 'sweetalert2';\r\n\r\nclass UserMenu extends Component {\r\n    constructor(){\r\n        super();\r\n        this.deleteAccount = this.deleteAccount.bind(this);\r\n        this.state = {\r\n            ID: '',\r\n            username: '',\r\n            password: '',\r\n        };\r\n    }\r\n\r\n    deleteAccount = () =>{\r\n        const id = sessionStorage.getItem(\"userID\");\r\n        const { ID, username, password } = this.state;\r\n        axios\r\n            .delete('http://localhost:3000/Users/' + id, { ID, username, password })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                if (res.status === 200) {\r\n                    sessionStorage.clear();\r\n                    window.location.reload();\r\n                }\r\n            });\r\n    };\r\n\r\n    confirmDeletion(){\r\n        swal({\r\n                title: 'Are you sure?',\r\n                text: \"This will permanently delete your user\",\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Continue',\r\n                cancelButtonText: 'Cancel'\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    setTimeout(100);\r\n                    this.deleteAccount();\r\n                    swal(\r\n                        'Terminated!',\r\n                        'User has been terminated',\r\n                        'success'\r\n                    )\r\n                }\r\n        })\r\n    };\r\n\r\n    handleLogout () {\r\n        sessionStorage.clear();\r\n        this.props.history.push(\"/\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"for-menu\">\r\n                {sessionStorage.length !== 0\r\n                    ?\r\n            <div className=\"user-menu\">\r\n                    <div>\r\n                        <h6>Logged in as: <b>{sessionStorage.userUsername}</b></h6>\r\n                        <br/>\r\n                        <NavLink to=\"/createpost\" style={{color: 'black', fontSize: '20px'}}>\r\n                            Create Post\r\n                        </NavLink>\r\n                        <br/>\r\n                        <NavLink style={{color: 'black'}} to=\"/posts/private\">View Private Posts</NavLink>\r\n                        <br/>\r\n                        <NavLink style={{color: 'black'}} to=\"/shared/mine\">View Shared Posts</NavLink>\r\n                        <br/>\r\n                        <div className=\"delete-options\">\r\n                            <br/>\r\n                        <NavLink className=\"logout-link\" to=\"/\" onClick={this.handleLogout} id=\"logout\">\r\n                        <FontAwesomeIcon icon={faSignOutAlt}/>\r\n                            Logout\r\n                        </NavLink>\r\n                        <button onClick={() => this.confirmDeletion()} className=\"terminate-btn\">\r\n                        <FontAwesomeIcon icon={faBan}/>\r\n                            Terminate User\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n                    :\r\n                    <p></p>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserMenu;"]},"metadata":{},"sourceType":"module"}