{"ast":null,"code":"//\n// Method to normalize size of fonts across devices\n//\n// Some code taken from https://jsfiddle.net/97ty7yjk/ &\n// https://stackoverflow.com/questions/34837342/font-size-on-iphone-6s-plus\n//\n// author: @xiaoneng\n// date: 14/10/2016\n// version: 03\n//\nvar React = require('react-native'); // eslint-disable-line no-undef\n\n\nvar PixelRatio = React.PixelRatio,\n    Dimensions = React.Dimensions;\nvar pixelRatio = PixelRatio.get();\nvar deviceHeight = Dimensions.get('window').height;\nvar deviceWidth = Dimensions.get('window').width; // -- Testing Only --\n// const fontScale = PixelRatio.getFontScale();\n// const layoutSize = PixelRatio.getPixelSizeForLayoutSize(14);\n// console.log('normalizeText getPR ->', pixelRatio);\n// console.log('normalizeText getFS ->', fontScale);\n// console.log('normalizeText getDH ->', deviceHeight);\n// console.log('normalizeText getDW ->', deviceWidth);\n// console.log('normalizeText getPSFLS ->', layoutSize);\n\nvar normalize = function normalize(size) {\n  if (pixelRatio >= 2 && pixelRatio < 3) {\n    // iphone 5s and older Androids\n    if (deviceWidth < 360) {\n      return size * 0.95;\n    } // iphone 5\n\n\n    if (deviceHeight < 667) {\n      return size; // iphone 6-6s\n    } else if (deviceHeight >= 667 && deviceHeight <= 735) {\n      return size * 1.15;\n    } // older phablets\n\n\n    return size * 1.25;\n  } else if (pixelRatio >= 3 && pixelRatio < 3.5) {\n    // catch Android font scaling on small machines\n    // where pixel ratio / font scale ratio => 3:3\n    if (deviceWidth <= 360) {\n      return size;\n    } // Catch other weird android width sizings\n\n\n    if (deviceHeight < 667) {\n      return size * 1.15; // catch in-between size Androids and scale font up\n      // a tad but not too much\n    }\n\n    if (deviceHeight >= 667 && deviceHeight <= 735) {\n      return size * 1.2;\n    } // catch larger devices\n    // ie iphone 6s plus / 7 plus / mi note 等等\n\n\n    return size * 1.27;\n  } else if (pixelRatio >= 3.5) {\n    // catch Android font scaling on small machines\n    // where pixel ratio / font scale ratio => 3:3\n    if (deviceWidth <= 360) {\n      return size; // Catch other smaller android height sizings\n    }\n\n    if (deviceHeight < 667) {\n      return size * 1.2; // catch in-between size Androids and scale font up\n      // a tad but not too much\n    }\n\n    if (deviceHeight >= 667 && deviceHeight <= 735) {\n      return size * 1.25;\n    } // catch larger phablet devices\n\n\n    return size * 1.4;\n  } else // if older device ie pixelRatio !== 2 || 3 || 3.5\n    return size;\n};\n\nmodule.exports = normalize; // eslint-disable-line no-undef","map":null,"metadata":{},"sourceType":"script"}