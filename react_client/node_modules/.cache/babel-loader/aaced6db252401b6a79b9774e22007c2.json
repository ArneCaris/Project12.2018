{"ast":null,"code":"import _classCallCheck from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\OAMK\\\\Projects\\\\Fall_Winter_2018\\\\Project12.2018\\\\react_client\\\\src\\\\AddUser.js\";\nimport React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport \"./Login.css\";\n\nvar AddUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddUser, _Component);\n\n  function AddUser() {\n    var _this;\n\n    _classCallCheck(this, AddUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddUser).call(this));\n    _this.getUsers = _this.getUsers.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEnter = _this.handleEnter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      ID: '',\n      username: '',\n      password: '',\n      Users: []\n    };\n    return _this;\n  }\n\n  _createClass(AddUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsers();\n    }\n  }, {\n    key: \"getUsers\",\n    value: function getUsers() {\n      var _this2 = this;\n\n      if (sessionStorage.length != 0) {\n        sessionStorage.clear();\n      } else {\n        axios.get(\"http://localhost:3000/Users/\").then(function (res) {\n          var Users = res.data;\n\n          _this2.setState({\n            Users: Users\n          });\n\n          var loginU = document.getElementById('username').value;\n          var loginP = document.getElementById('password').value;\n\n          var usernameCheck = _this2.state.Users.map(function (user) {\n            return user.username;\n          });\n\n          for (var x = 0; x < usernameCheck.length; x++) {\n            if (Users[x].username === loginU) {\n              if (Users[x].password === loginP) {\n                var CurrUser = {\n                  id: Users[x].ID,\n                  username: Users[x].username,\n                  isAuthenticated: true\n                };\n                sessionStorage.setItem('userID', JSON.stringify(CurrUser.id));\n                sessionStorage.setItem('userUsername', JSON.stringify(CurrUser.username));\n                sessionStorage.setItem('isAthenticated', JSON.stringify(CurrUser.isAuthenticated));\n\n                _this2.props.history.push('/');\n\n                swal('You have been signed in', 'Because account already exist you have been signed in with your provided credentials! ', 'warning');\n                break;\n              }\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleEnter\",\n    value: function handleEnter(event) {\n      if (event.key === 'Enter') {\n        this.handleSubmit();\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this3 = this;\n\n      var ID = this.state.ID;\n      var username = document.getElementById(\"username\").value;\n      var password = document.getElementById(\"password\").value;\n\n      if (document.getElementById(\"password\").value.length > 3) {\n        axios.post('http://localhost:3000/Users', {\n          ID: ID,\n          username: username,\n          password: password\n        }).then(function (res) {\n          _this3.getUsers();\n\n          var toast = swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000\n          });\n          if (res.data.code != 'ER_DUP_ENTRY') toast({\n            type: 'success',\n            title: 'Sign-up Successful!'\n          });else {\n            swal('Oopsie!', 'Username is already in use.', 'warning');\n          }\n        });\n      } else {\n        var toast = swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: 'error',\n          title: 'Password must be longer than 4 characters.'\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Please do not use your \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"REAL\"), \" password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(FormGroup, {\n        controlId: \"username\",\n        bsSize: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Username\"), React.createElement(FormControl, {\n        autoFocus: true,\n        type: \"username\",\n        id: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"password\",\n        bsSize: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Password\"), React.createElement(FormControl, {\n        type: \"password\",\n        id: \"password\",\n        onKeyPress: this.handleEnter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })), React.createElement(Button, {\n        block: true,\n        bsSize: \"large\",\n        type: \"button\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Signup\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AddUser;\n}(Component);\n\nexport default AddUser;","map":{"version":3,"sources":["C:\\OAMK\\Projects\\Fall_Winter_2018\\Project12.2018\\react_client\\src\\AddUser.js"],"names":["React","Component","Button","FormGroup","FormControl","ControlLabel","axios","swal","AddUser","getUsers","bind","handleEnter","handleSubmit","state","ID","username","password","Users","sessionStorage","length","clear","get","then","res","data","setState","loginU","document","getElementById","value","loginP","usernameCheck","map","user","x","CurrUser","id","isAuthenticated","setItem","JSON","stringify","props","history","push","event","key","post","toast","mixin","position","showConfirmButton","timer","code","type","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert2';\r\nimport \"./Login.css\";\r\n\r\n\r\nclass AddUser extends Component {\r\n    constructor() {\r\n    super();\r\n    this.getUsers = this.getUsers.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.state = {\r\n        ID: '',\r\n        username: '',\r\n        password: '',\r\n        Users: []\r\n    };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.getUsers();\r\n    }\r\n\r\n    getUsers() {\r\n        if(sessionStorage.length != 0){\r\n            sessionStorage.clear();\r\n        } else {\r\n            axios.get(`http://localhost:3000/Users/`).then(res => {\r\n                const Users = res.data;\r\n                this.setState({ Users });\r\n                var loginU = document.getElementById('username').value;\r\n                var loginP = document.getElementById('password').value;\r\n                \r\n                var usernameCheck = this.state.Users.map(user => (user.username));\r\n\r\n                \r\n                \r\n                    for ( var x = 0; x < usernameCheck.length; x++){\r\n                        if(Users[x].username === loginU)\r\n                        {\r\n                            if(Users[x].password === loginP)\r\n                            {       \r\n\r\n                            var CurrUser = {\r\n                                id: Users[x].ID,\r\n                                username: Users[x].username,\r\n                                isAuthenticated: true\r\n                            }\r\n\r\n                            sessionStorage.setItem( 'userID', JSON.stringify(CurrUser.id) );\r\n                            sessionStorage.setItem( 'userUsername', JSON.stringify(CurrUser.username) );\r\n                            sessionStorage.setItem( 'isAthenticated', JSON.stringify(CurrUser.isAuthenticated) );\r\n                            \r\n                            this.props.history.push('/');\r\n                            \r\n                            swal ( 'You have been signed in',\r\n                                'Because account already exist you have been signed in with your provided credentials! ',\r\n                                    'warning')\r\n                            break;\r\n                            \r\n                            } \r\n                                \r\n                            }\r\n                        }\r\n                       \r\n                \r\n                }\r\n            );\r\n        }\r\n\r\n    }       \r\n\r\n    handleEnter(event) {\r\n        if (event.key === 'Enter') {\r\n\r\n            this.handleSubmit();\r\n        }\r\n    }\r\n\r\n    handleSubmit () {\r\n        const { ID } = this.state;\r\n        const username = document.getElementById(\"username\").value\r\n        const password = document.getElementById(\"password\").value    \r\n\r\n        if(document.getElementById(\"password\").value.length > 3 ) {\r\n            \r\n            axios\r\n            .post('http://localhost:3000/Users', { ID, username, password })\r\n            .then(res => {\r\n                this.getUsers();\r\n                const toast = swal.mixin({\r\n                    toast: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer: 3000\r\n                \r\n                });\r\n                if (res.data.code != 'ER_DUP_ENTRY')\r\n                toast({\r\n                    type: 'success',\r\n                    title: 'Sign-up Successful!'\r\n                })\r\n                else { \r\n                    swal ( 'Oopsie!',\r\n                            'Username is already in use.',\r\n                            'warning')\r\n                }\r\n            });\r\n\r\n        } else {\r\n            const toast = swal.mixin({\r\n                toast: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n\r\n            toast({\r\n                type: 'error',\r\n                title: 'Password must be longer than 4 characters.'\r\n            })\r\n        }\r\n\r\n        };\r\n        \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Login\">\r\n\r\n            <form>\r\n                <h3>Please do not use your <b>REAL</b> password</h3>\r\n                <br/>\r\n            <FormGroup controlId=\"username\" bsSize=\"large\">\r\n                <ControlLabel>Username</ControlLabel>\r\n                <FormControl\r\n                autoFocus\r\n                type=\"username\" id=\"username\"\r\n                />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"password\" bsSize=\"large\">\r\n                <ControlLabel>Password</ControlLabel>\r\n                <FormControl\r\n                type=\"password\" id=\"password\" onKeyPress={this.handleEnter}\r\n                />\r\n            </FormGroup>\r\n            <Button\r\n                block\r\n                bsSize=\"large\"\r\n                type=\"button\"\r\n                onClick={this.handleSubmit}\r\n                >\r\n                Signup\r\n            </Button>\r\n            </form>\r\n            <br/> <br/>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddUser;"]},"metadata":{},"sourceType":"module"}