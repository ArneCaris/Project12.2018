{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\owner\\\\Desktop\\\\project10.18\\\\react_client\\\\src\\\\PostsByCategory.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap.min.js';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Badge } from 'reactstrap';\nimport { Route, Link } from 'react-router-dom';\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport NavigationButton from './Components/NavigationButton';\nimport CommentField from './Components/CommentField';\nimport PostModal from './Components/PostModal';\nimport RemoveButton from './Components/RemoveButton';\nimport moment from 'react-moment';\nimport 'moment-timezone';\nimport Moment from 'react-moment';\n\nvar PostsByCategory =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostsByCategory, _Component);\n\n  function PostsByCategory(props) {\n    var _this;\n\n    _classCallCheck(this, PostsByCategory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostsByCategory).call(this, props));\n    _this.state = {\n      posts: [],\n      ID: '',\n      Title: '',\n      Content: '',\n      Category: '',\n      LastEdit: '',\n      titletext: '',\n      titlecontent: '',\n      modal: false\n    };\n    _this.handleModal = _this.handleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.forlooptitle = _this.forlooptitle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PostsByCategory, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var item1 = \"lifestyle\";\n      var item2 = \"gaming\";\n      var item3 = \"vehicles\";\n      var item4 = \"technology\";\n      var url = window.location.href;\n      console.log(lcase);\n\n      if (url.includes(item1)) {\n        axios.get(\"http://localhost:3000/Posts/category/\" + item1).then(function (results) {\n          var posts = results.data;\n          var ID = [];\n          var Title = [];\n          var Content = [];\n          var Category = [];\n          var LastEdit = [];\n\n          for (var x = 0; x < posts.length; x++) {\n            ID.push(posts[x].ID);\n            Title.push(posts[x].Title);\n            Content.push(posts[x].Content);\n            Category.push(posts[x].Category);\n            LastEdit.push(posts[x].LastEdit);\n          }\n\n          _this2.setState({\n            posts: posts,\n            ID: ID,\n            Title: Title,\n            Content: Content,\n            Category: Category,\n            LastEdit: LastEdit\n          });\n        });\n      }\n\n      if (url.includes(item2)) {\n        axios.get(\"http://localhost:3000/Posts/category/\" + item2).then(function (results) {\n          var posts = results.data;\n          var ID = [];\n          var Title = [];\n          var Content = [];\n          var Category = [];\n          var LastEdit = [];\n\n          for (var x = 0; x < posts.length; x++) {\n            ID.push(posts[x].ID);\n            Title.push(posts[x].Title);\n            Content.push(posts[x].Content);\n            LastEdit.push(posts[x].LastEdit);\n          }\n\n          _this2.setState({\n            posts: posts,\n            ID: ID,\n            Title: Title,\n            Content: Content,\n            Category: Category,\n            LastEdit: LastEdit\n          });\n        });\n      }\n\n      if (url.includes(item3)) {\n        axios.get(\"http://localhost:3000/Posts/category/\" + item3).then(function (results) {\n          var posts = results.data;\n          var ID = [];\n          var Title = [];\n          var Content = [];\n          var Category = [];\n          var LastEdit = [];\n\n          for (var x = 0; x < posts.length; x++) {\n            ID.push(posts[x].ID);\n            Title.push(posts[x].Title);\n            Content.push(posts[x].Content);\n            LastEdit.push(posts[x].LastEdit);\n          }\n\n          _this2.setState({\n            posts: posts,\n            ID: ID,\n            Title: Title,\n            Content: Content,\n            Category: Category,\n            LastEdit: LastEdit\n          });\n        });\n      }\n\n      if (url.includes(item4)) {\n        axios.get(\"http://localhost:3000/Posts/category/\" + item4).then(function (results) {\n          var posts = results.data;\n          var ID = [];\n          var Title = [];\n          var Content = [];\n          var Category = [];\n          var LastEdit = [];\n\n          for (var x = 0; x < posts.length; x++) {\n            ID.push(posts[x].ID);\n            Title.push(posts[x].Title);\n            Content.push(posts[x].Content);\n            LastEdit.push(posts[x].LastEdit);\n          }\n\n          _this2.setState({\n            posts: posts,\n            ID: ID,\n            Title: Title,\n            Content: Content,\n            Category: Category,\n            LastEdit: LastEdit\n          });\n        });\n      }\n    }\n  }, {\n    key: \"forlooptitle\",\n    value: function forlooptitle(idlist, search) {\n      console.log(search);\n      console.log(idlist);\n      var anotherarray = {};\n\n      for (var x = 0; x < this.state.posts.length; x++) {\n        if (idlist.includes(this.state.posts[x].ID)) {\n          anotherarray[this.state.posts[x].ID] = {\n            id: this.state.posts[x].ID,\n            title: this.state.posts[x].Title,\n            content: this.state.posts[x].Content\n          };\n\n          if (this.state.posts[x].ID == document.getElementById(search).id) {\n            this.setState({\n              titletext: anotherarray[this.state.posts[x].ID].title,\n              titlecontent: anotherarray[this.state.posts[x].ID].content\n            });\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"handleModal\",\n    value: function handleModal(search) {\n      console.log(search);\n      var idlist = [];\n\n      for (var x = 0; x < this.state.posts.length; x++) {\n        idlist.push(this.state.posts[x].ID);\n        this.setState({\n          modal: !this.state.modal\n        });\n      }\n\n      this.forlooptitle(idlist, search);\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        modal: !this.state.modal\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this,\n          _React$createElement;\n\n      var postsList = this.state.posts.map(function (Post) {\n        var lcase = Post.Category.toString().toLowerCase();\n        return React.createElement(\"div\", {\n          className: \"for-posts\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"postdiv\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          onClick: function onClick() {\n            return _this3.handleModal(Post.ID);\n          },\n          id: Post.ID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"ID: \", React.createElement(\"i\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, Post.ID)), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, Post.Title)), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, Post.Content)), React.createElement(\"a\", {\n          href: \"http://localhost:3001/posts/category/\" + Post.Category.toString().toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(Badge, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, Post.Category)), \"        \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }), React.createElement(Moment, {\n          format: \"DD-MM-YYYY\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, Post.LastEdit)))));\n      });\n      var modaltitle = React.createElement(\"div\", {\n        id: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, this.state.titletext);\n      var modalcontent = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, this.state.titlecontent);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, postsList), React.createElement(Modal, (_React$createElement = {\n        key: this.props.ID,\n        isOpen: this.state.modal\n      }, _defineProperty(_React$createElement, \"key\", this.state.posts.ID), _defineProperty(_React$createElement, \"className\", \"modalpost\"), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, modaltitle), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, modalcontent), React.createElement(CommentField, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return PostsByCategory;\n}(Component);\n\nexport default PostsByCategory;","map":{"version":3,"sources":["C:\\Users\\owner\\Desktop\\project10.18\\react_client\\src\\PostsByCategory.js"],"names":["React","Component","axios","ReactDOM","Button","Modal","ModalHeader","ModalBody","ModalFooter","Badge","Route","Link","toast","ToastContainer","NavigationButton","CommentField","PostModal","RemoveButton","moment","Moment","PostsByCategory","props","state","posts","ID","Title","Content","Category","LastEdit","titletext","titlecontent","modal","handleModal","bind","forlooptitle","handleClose","item1","item2","item3","item4","url","window","location","href","console","log","lcase","includes","get","then","results","data","x","length","push","setState","idlist","search","anotherarray","id","title","content","document","getElementById","postsList","map","Post","toString","toLowerCase","modaltitle","modalcontent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport ReactDOM from 'react-dom';\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport '../node_modules/bootstrap/dist/js/bootstrap.min.js';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Badge } from 'reactstrap';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport NavigationButton from './Components/NavigationButton';\r\nimport CommentField from './Components/CommentField';\r\nimport PostModal from './Components/PostModal';\r\nimport RemoveButton from './Components/RemoveButton';\r\nimport moment from 'react-moment';\r\nimport 'moment-timezone';\r\nimport Moment from 'react-moment';\r\n\r\n  class PostsByCategory extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        posts: [],\r\n        ID: '',\r\n        Title: '',\r\n        Content: '',\r\n        Category: '',\r\n        LastEdit: '',\r\n        titletext: '',\r\n        titlecontent: '',\r\n        modal: false\r\n      };\r\n      this.handleModal = this.handleModal.bind(this);\r\n      this.forlooptitle = this.forlooptitle.bind(this);\r\n      this.handleClose = this.handleClose.bind(this);\r\n    }\r\n  \r\n    componentDidMount() {\r\n      const item1 = \"lifestyle\"\r\n      const item2 = \"gaming\"\r\n      const item3 = \"vehicles\"\r\n      const item4 = \"technology\"\r\n      const url = window.location.href\r\n      console.log(lcase)\r\n      if (url.includes(item1)) {\r\n        axios.get(`http://localhost:3000/Posts/category/` + item1).then(results => {\r\n          const posts = results.data;\r\n          const ID = [];\r\n          const Title = [];\r\n          const Content = [];\r\n          const Category = [];\r\n          const LastEdit = [];\r\n          for (var x = 0; x < posts.length; x++) {\r\n            ID.push(posts[x].ID);\r\n            Title.push(posts[x].Title);\r\n            Content.push(posts[x].Content);\r\n            Category.push(posts[x].Category);\r\n            LastEdit.push(posts[x].LastEdit)\r\n          }\r\n          this.setState({ \r\n            posts,\r\n            ID,\r\n            Title,\r\n            Content,\r\n            Category,\r\n            LastEdit\r\n          });\r\n          });}\r\n      if (url.includes(item2)) {\r\n        axios.get(`http://localhost:3000/Posts/category/` + item2).then(results => {\r\n          const posts = results.data;\r\n          const ID = [];\r\n          const Title = [];\r\n          const Content = [];\r\n          const Category = [];\r\n          const LastEdit = [];\r\n          for (var x = 0; x < posts.length; x++) {\r\n            ID.push(posts[x].ID);\r\n            Title.push(posts[x].Title);\r\n            Content.push(posts[x].Content);\r\n            LastEdit.push(posts[x].LastEdit)\r\n          }\r\n          this.setState({ \r\n            posts,\r\n            ID,\r\n            Title,\r\n            Content,\r\n            Category,\r\n            LastEdit\r\n          });\r\n          });}\r\n      if (url.includes(item3)) {\r\n        axios.get(`http://localhost:3000/Posts/category/` + item3).then(results => {\r\n          const posts = results.data;\r\n          const ID = [];\r\n          const Title = [];\r\n          const Content = [];\r\n          const Category = [];\r\n          const LastEdit = [];\r\n          for (var x = 0; x < posts.length; x++) {\r\n            ID.push(posts[x].ID);\r\n            Title.push(posts[x].Title);\r\n            Content.push(posts[x].Content);\r\n            LastEdit.push(posts[x].LastEdit)\r\n          }\r\n          this.setState({ \r\n            posts,\r\n            ID,\r\n            Title,\r\n            Content,\r\n            Category,\r\n            LastEdit\r\n          });\r\n          });}\r\n      if (url.includes(item4)) {\r\n        axios.get(`http://localhost:3000/Posts/category/` + item4).then(results => {\r\n          const posts = results.data;\r\n          const ID = [];\r\n          const Title = [];\r\n          const Content = [];\r\n          const Category = [];\r\n          const LastEdit = [];\r\n          for (var x = 0; x < posts.length; x++) {\r\n            ID.push(posts[x].ID);\r\n            Title.push(posts[x].Title);\r\n            Content.push(posts[x].Content);\r\n            LastEdit.push(posts[x].LastEdit)\r\n          }\r\n          this.setState({ \r\n            posts,\r\n            ID,\r\n            Title,\r\n            Content,\r\n            Category,\r\n            LastEdit\r\n          });\r\n          });}\r\n    }\r\n  \r\n    forlooptitle (idlist, search) {\r\n        console.log(search)\r\n        console.log(idlist)\r\n        var anotherarray = {};\r\n        for (var x = 0; x < this.state.posts.length; x++) {\r\n            if (idlist.includes(this.state.posts[x].ID)) {\r\n              anotherarray[this.state.posts[x].ID]= {id: this.state.posts[x].ID, title: this.state.posts[x].Title, content: this.state.posts[x].Content}\r\n              \r\n              if (this.state.posts[x].ID == document.getElementById(search).id)  {\r\n                this.setState({\r\n                  titletext: anotherarray[this.state.posts[x].ID].title,\r\n                  titlecontent: anotherarray[this.state.posts[x].ID].content\r\n                });\r\n                break\r\n                \r\n              }               \r\n            }\r\n            else {\r\n              break\r\n            }\r\n            \r\n        }  \r\n    }\r\n  \r\n    handleModal (search) {\r\n      console.log(search)\r\n      var idlist = []\r\n      for (var x = 0; x < this.state.posts.length; x++) {\r\n  \r\n        idlist.push(this.state.posts[x].ID);\r\n  \r\n        this.setState({\r\n          modal: !this.state.modal,\r\n        });  \r\n      }\r\n  \r\n      this.forlooptitle(idlist, search);\r\n  }\r\n  \r\n  handleClose() {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n  });\r\n  }\r\n  \r\n  render() {\r\n    \r\n    let postsList = this.state.posts.map ( Post => {\r\n     var lcase = Post.Category.toString().toLowerCase();\r\n      return (\r\n      <div className=\"for-posts\">\r\n      <div className=\"postdiv\">\r\n        <ul onClick={() => this.handleModal(Post.ID)} id={Post.ID} >\r\n          <li>ID: <i>{Post.ID}</i></li>\r\n          <li><h3>{Post.Title}</h3></li>\r\n          <li><p>{Post.Content}</p></li>\r\n          <a href={\"http://localhost:3001/posts/category/\" + Post.Category.toString().toLowerCase()}><Badge>{Post.Category}</Badge></a>        <br/>\r\n          <Moment format={\"DD-MM-YYYY\"}>\r\n            <li>{Post.LastEdit}</li>\r\n          </Moment>\r\n        </ul>\r\n      </div>\r\n      </div>)\r\n    });\r\n        var modaltitle =\r\n          <div id=\"title\">\r\n            \r\n            {this.state.titletext}\r\n          \r\n          </div>\r\n          ;\r\n        var modalcontent =\r\n          <div>\r\n            \r\n            {this.state.titlecontent}\r\n          \r\n          </div>\r\n          ;\r\n  \r\n      return(\r\n        <div>\r\n          <div>\r\n            {postsList}\r\n          </div>\r\n          \r\n          <Modal key={this.props.ID} isOpen={this.state.modal} key={this.state.posts.ID} className=\"modalpost\">\r\n            \r\n              <ModalHeader>{modaltitle}</ModalHeader>\r\n              <ModalBody>\r\n                {modalcontent}\r\n              </ModalBody>\r\n              \r\n                <CommentField/>\r\n              <ModalFooter>\r\n                <Button color=\"secondary\" onClick={this.handleClose}>Close</Button>\r\n              </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n      );\r\n  }\r\n  }\r\n  \r\n\r\n  export default PostsByCategory;"]},"metadata":{},"sourceType":"module"}